#include <stdio.h>
#include <stdlib.h>
#include <string.h>

typedef struct watch {
    char brand[30];
    float price;
    struct watch* next;
} WATCH;

// Create node
WATCH* createWatch(char* brand, float price) {
    WATCH* newNode = (WATCH*)malloc(sizeof(WATCH));
    strcpy(newNode->brand, brand);
    newNode->price = price;
    newNode->next = NULL;
    return newNode;
}

// Insert at end initially
WATCH* insertEnd(WATCH* head, char* brand, float price) {
    WATCH* newNode = createWatch(brand, price);
    if (head == NULL) {
        newNode->next = newNode;
        return newNode;
    }
    WATCH* temp = head;
    while (temp->next != head)
        temp = temp->next;
    temp->next = newNode;
    newNode->next = head;
    return head;
}

// Insert after a specific brand
void insertAfterBrand(WATCH* head, char* targetBrand, char* brand, float price) {
    WATCH* temp = head;
    do {
        if (strcmp(temp->brand, targetBrand) == 0) {
            WATCH* newNode = createWatch(brand, price);
            newNode->next = temp->next;
            temp->next = newNode;
            return;
        }
        temp = temp->next;
    } while (temp != head);
    printf("Brand not found.\n");
}

// Display circular list
void display(WATCH* head) {
    if (head == NULL) {
        printf("Watch list is empty\n");
        return;
    }
    WATCH* temp = head;
    do {
        printf("Brand: %s, Price: %.2f\n", temp->brand, temp->price);
        temp = temp->next;
    } while (temp != head);
}

int main() {
    WATCH* head = NULL;
    head = insertEnd(head, "Titan", 2500);
    head = insertEnd(head, "Fossil", 5200);
    head = insertEnd(head, "Casio", 3100);

    insertAfterBrand(head, "Fossil", "Apple", 11000);
    display(head);
    return 0;
}